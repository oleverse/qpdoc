{% extends "base.html" %}
{% block title %}
    <title>{{ title }}</title>
{% endblock %}
{% block style_file %}
    <link rel="stylesheet" 
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', path='/css/chat.css') }}">
{% endblock %}
{% block content %}
    <header>
        <h1 сlass="title">
            qpdoc
        </h1>
        <h2 id="text">
            Query Processed Documents Chat
        </h2>
        <nav>
            <a href="/profile" class="to-profile">
                <i class="fa-solid fa-circle-user"></i>
            </a>
        </nav>
    </header>

    <div class="container">

        <div class="leftbox">
            <form action="#" class="add-pdf">
                <input type="file" id="file-input" multiple>
                <label for="file-input">
                    <i class="fa-solid fa-arrow-up-from-bracket"></i>
                    &nbsp; Choose PDF
                </label>
                <div id="num-of-files">No Files Coosen</div>
                <ul id="files-list"></ul>
            </form>
        </div>

        <div class="rightbox">
            <div class="bot-msg">
<<<<<<< Updated upstream
                <p>Some text aaaaaaaaaaaaaaaaaaaaaaaaaaaaaa sddsjndsjnd
                    kkdgmgkdnldgksaifiansifsijfoisjfojsfndsjndkkdgmgkd
                    ksdgmosgokdsojgosjdogjdso
=======
                <p>
                    "Lorem ipsum dolor sit amet, consectetur adipiscing elit, 
                    sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. 
                    Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut 
                    aliquip ex ea commodo consequat.
>>>>>>> Stashed changes
                </p>
            </div>

            <div class="user-msg">
                <p>
<<<<<<< Updated upstream
                    Some text bbbbbbbbbbbbbbbbbbbbbbbbbbbdngjdsngjdnjgnisdnginidgids
=======
                    Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. 
                    Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."
>>>>>>> Stashed changes
                </p>
            </div>

            <div class="typing-box">
                <form action="#" class="send">
                    <input type="text"
                    class="input-field"
                    placeholder="What do you want to know...">
                    <button type="submit" class="send-btn">
                        <i class="fa-solid fa-circle-arrow-up"></i>
                    </button>
                </form>
            </div>
        </div>

    </div>
    
     <!-- SCRIPT FOR FILE BAR -->

     <script>
        let fileInput = document.getElementById("file-input");
        let fileList = document.getElementById("files-list");
        let numOfFiles = document.getElementById("num-of-files");

        fileInput.addEventListener("change", () => {
            fileList.innerHTML = "";
            numOfFiles.textContent = `${fileInput.files.length} 
            Files Selected`;

            for (i of fileInput.files) {
                let reader = new FileReader();
                let listItem = document.createElement("li");
                let fileName = i.name;
                fileSize = (i.size / 1024).toFixed(1);
                listItem.innerHTML = `<p>${fileName}</p><p>${fileSize}KB</p>`;

                if (fileSize >= 1024) {
                    fileSize = (fileSize / 1024).toFixed(1);
                    listItem.innerHTML = `<p>${fileName}</p><p>${fileSize}MB</p>`;
                }
                fileList.appendChild(listItem);
            }
        });
    </script>
{% endblock %}